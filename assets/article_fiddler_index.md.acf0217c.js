import{_ as a,r as d,c as t,d as s,a as e,b as n,p as l,e as i,f as c,o as r}from"./app.91463472.js";const p='{"title":"fiddler","description":"使用代理来开发微信公众号","frontmatter":{"title":"fiddler","date":"2021-10-11T00:00:00.000Z","tags":["fiddler","代理","抓包"],"description":"使用代理来开发微信公众号"},"headers":[{"level":2,"title":"1. 启动项目","slug":"_1-启动项目"},{"level":2,"title":"2. main.js中加入以下代码","slug":"_2-main-js中加入以下代码"},{"level":2,"title":"3. http代理设置方法","slug":"_3-http代理设置方法"},{"level":2,"title":"4. https代理设置方法（http也行）","slug":"_4-https代理设置方法（http也行）"},{"level":2,"title":"总结","slug":"总结"}],"relativePath":"article/fiddler/index.md","lastUpdated":1634614329284}',o={},h=a=>(l("data-v-5faaddac"),a=a(),i(),a),u=n('<h1 id="本地开发微信公众号" tabindex="-1" data-v-5faaddac>本地开发微信公众号 <a class="header-anchor" href="#本地开发微信公众号" aria-hidden="true" data-v-5faaddac>#</a></h1><div class="tip custom-block" data-v-5faaddac><p class="custom-block-title" data-v-5faaddac>提示</p><p data-v-5faaddac>下面例子以一个vuecli+vue项目为例</p></div><h2 id="_1-启动项目" tabindex="-1" data-v-5faaddac>1. 启动项目 <a class="header-anchor" href="#_1-启动项目" aria-hidden="true" data-v-5faaddac>#</a></h2><div class="language-bash" data-v-5faaddac><pre data-v-5faaddac><code data-v-5faaddac>  <span class="token function" data-v-5faaddac>npm</span> run serve\n</code></pre></div><h2 id="_2-main-js中加入以下代码" tabindex="-1" data-v-5faaddac>2. main.js中加入以下代码 <a class="header-anchor" href="#_2-main-js中加入以下代码" aria-hidden="true" data-v-5faaddac>#</a></h2><div class="language-js" data-v-5faaddac><pre data-v-5faaddac><code data-v-5faaddac>  <span class="token comment" data-v-5faaddac>// 用来查看是否代理远程成功</span>\n  <span class="token function" data-v-5faaddac>alert</span><span class="token punctuation" data-v-5faaddac>(</span><span class="token string" data-v-5faaddac>&#39;fiddler proxy&#39;</span><span class="token punctuation" data-v-5faaddac>)</span>\n</code></pre></div><h2 id="_3-http代理设置方法" tabindex="-1" data-v-5faaddac>3. http代理设置方法 <a class="header-anchor" href="#_3-http代理设置方法" aria-hidden="true" data-v-5faaddac>#</a></h2><div class="tip custom-block" data-v-5faaddac><p class="custom-block-title" data-v-5faaddac>我的远程地址</p><p data-v-5faaddac><a href="http://ad.maissy.net/doctor/index.html" target="_blank" rel="noopener noreferrer" data-v-5faaddac>http://ad.maissy.net/doctor/index.html</a></p></div>',8),v=h((()=>s("li",null,"打开fiddler, 工具栏 Tools -> Host Remapping",-1))),f=c("设置一下域名映射127.0.0.1:80 "),m=h((()=>s("a",{href:"http://ad.maissy.net",target:"_blank",rel:"noopener noreferrer"},"ad.maissy.net",-1))),_=c("，然后点击保存（80为本地服务的端口可以省略）"),g=h((()=>s("br",null,null,-1))),b=c("pc打开远程地址http://ad.maissy.net/doctor/index.html#/index，显示如下"),k=h((()=>s("br",null,null,-1))),x=h((()=>s("li",null,"微信开发者工具同pc端直接打开链接便可（无法抓包的话需要设置下代理，微信开发者工具 -> 设置 -> 代理设置 -> 手动设置代理 -> 127.0.0.1:8888）",-1))),w=c("手机在设置好代理之后打开远程地址http://ad.maissy.net/doctor/index.html#/index，显示如下"),T=h((()=>s("br",null,null,-1))),j=h((()=>s("br",null,null,-1))),q=h((()=>s("br",null,null,-1))),A=n('<h2 id="_4-https代理设置方法（http也行）" tabindex="-1" data-v-5faaddac>4. https代理设置方法（http也行） <a class="header-anchor" href="#_4-https代理设置方法（http也行）" aria-hidden="true" data-v-5faaddac>#</a></h2><div class="tip custom-block" data-v-5faaddac><p class="custom-block-title" data-v-5faaddac>我的远程地址</p><p data-v-5faaddac><a href="https://ad.huishimed.com/doctor/index.html" target="_blank" rel="noopener noreferrer" data-v-5faaddac>https://ad.huishimed.com/doctor/index.html</a></p></div><ol data-v-5faaddac><li data-v-5faaddac>在vue.config.js的devServer开启https</li></ol><div class="language-js" data-v-5faaddac><pre data-v-5faaddac><code data-v-5faaddac>  devServer<span class="token operator" data-v-5faaddac>:</span> <span class="token punctuation" data-v-5faaddac>{</span>\n    disableHostCheck<span class="token operator" data-v-5faaddac>:</span> <span class="token boolean" data-v-5faaddac>true</span><span class="token punctuation" data-v-5faaddac>,</span>\n    https<span class="token operator" data-v-5faaddac>:</span> <span class="token boolean" data-v-5faaddac>true</span><span class="token punctuation" data-v-5faaddac>,</span>\n  <span class="token punctuation" data-v-5faaddac>}</span>\n</code></pre></div><ol start="2" data-v-5faaddac><li data-v-5faaddac>打开fiddler，点击AutoResponder -&gt; Add Rule</li><li data-v-5faaddac>勾选上Enable rule 和 Unmatched requests passthrough</li><li data-v-5faaddac>在Request URL Pattern 和 Local File 中分别输入</li></ol><div class="language-" data-v-5faaddac><pre data-v-5faaddac><code data-v-5faaddac>regex:https://ad.huishimed.com/doctor\\/(?&lt;name&gt;.+)$\nhttps://localhost:80/doctor/$1\n</code></pre></div>',6),R=h((()=>s("ol",{start:"5"},[s("li",null,"微信开发者工具打开远程地址")],-1))),S=h((()=>s("h2",{id:"总结",tabindex:"-1"},[c("总结 "),s("a",{class:"header-anchor",href:"#总结","aria-hidden":"true"},"#")],-1))),y=h((()=>s("p",null,"fiddler AutoResponder，用本地文件来替换线上文件，这样我们对于我们处理线上的bug非常有用，有些网站对浏览者做了一些限制，我们可以把改网站的一些js、css、图片扒拉下来做一些修改以达到我们访问的需求",-1)));var P=a(o,[["render",function(a,n,l,i,c,p){const o=d("el-image"),h=d("comment");return r(),t("div",null,[u,s("ol",null,[v,s("li",null,[f,m,_,g,e(o,{class:"w-6/12 mt-2",src:"https://ad.qiniu.huishimed.com/1633937684363.png","preview-src-list":["https://ad.qiniu.huishimed.com/1633937684363.png"]},null,8,["preview-src-list"])]),s("li",null,[b,k,e(o,{class:"w-6/12 mt-2",src:"https://ad.qiniu.huishimed.com/1633938664731.png","preview-src-list":["https://ad.qiniu.huishimed.com/1633938664731.png"]},null,8,["preview-src-list"])]),x,s("li",null,[w,T,e(o,{class:"w-3/12 mt-2",src:"https://ad.qiniu.huishimed.com/1633939383618.jpg","preview-src-list":["https://ad.qiniu.huishimed.com/1633939383618.jpg"]},null,8,["preview-src-list"]),j,q])]),A,e(o,{class:"w-6/12",src:"https://ad.qiniu.huishimed.com/1633943760092.png","preview-src-list":["https://ad.qiniu.huishimed.com/1633943760092.png"]},null,8,["preview-src-list"]),R,e(o,{class:"w-6/12 mb-4",src:"https://ad.qiniu.huishimed.com/1633941599640.png","preview-src-list":["https://ad.qiniu.huishimed.com/1633941599640.png"]},null,8,["preview-src-list"]),S,y,e(h)])}],["__scopeId","data-v-5faaddac"]]);export{p as __pageData,P as default};
